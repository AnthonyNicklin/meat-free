{% extends 'base.html' %}

{% block content %}

<br>

<h1 class="page-title mountain_font text-orange">{{ title.upper() }}</h1>

<div class="row">

        <div class="col s12 m4 center-align">
        <!-- Dropdown Trigger -->
        <a class='dropdown-button btn waves-effect waves-yellow' href='#' data-activates='sortby-dropdown'>Sort By
            <i class="material-icons">arrow_drop_down</i>
        </a>

        <!-- Dropdown Structure -->
        <ul id='sortby-dropdown' class='dropdown-content'>
            <li><a href="{{ url_for('sort_by', field='upvotes', high_low='high') }}">Most Upvotes</a></li>
            <li><a href="{{ url_for('sort_by', field='upvotes', high_low='low') }}">Least Upvotes</a></li>
            <li class="divider"></li>
            <li><a href="{{ url_for('sort_by', field='rating', high_low='high') }}">Highest Rated</a></li>
            <li><a href="{{ url_for('sort_by', field='rating', high_low='low') }}">Lowest Rated</a></li>
            <li class="divider"></li>
            <li><a href="{{ url_for('sort_by', field='time_to_make', high_low='high') }}">Long Cooking</a></li>
            <li><a href="{{ url_for('sort_by', field='time_to_make', high_low='low') }}">Quick Cooking</a></li>
        </ul>
    </div>

    <div class="col s12 m4 center-align">
        <!-- Dropdown Trigger -->
        <a class='dropdown-button btn waves-effect waves-yellow' href='#' data-activates='meal-dropdown'>Meal Times
            <i class="material-icons">arrow_drop_down</i>
        </a>

        <!-- Dropdown Structure -->
        <ul id='meal-dropdown' class='dropdown-content'>
            <li><a href="{{ url_for('recipes', field='meal_time', type='breakfast') }}">Breakfast</a></li>
            <li><a href="{{ url_for('recipes', field='meal_time', type='lunch') }}">Lunch</a></li>
            <li><a href="{{ url_for('recipes', field='meal_time', type='dinner') }}">Dinner</a></li>
        </ul>
    </div>

    <div id="training-type-btn" class="col s12 m4 center-align">
        <!-- Dropdown Trigger -->
        <a class='dropdown-button btn waves-effect waves-yellow' href='#' data-activates='training-dropdown'>Training Types
            <i class="material-icons">arrow_drop_down</i>
        </a>

        <!-- Dropdown Structure -->
        <ul id='training-dropdown' class='dropdown-content'>
            <li><a href="{{ url_for('recipes', field='training_type', type='endurance') }}">Endurance</a></li>
            <li><a href="{{ url_for('recipes', field='training_type', type='speed') }}">Speed</a></li>
            <li><a href="{{ url_for('recipes', field='training_type', type='power') }}">Power</a></li>
            <li><a href="{{ url_for('recipes', field='training_type', type='strength') }}">Strength</a></li>
        </ul>
    </div>

</div>
<!--./row-->

{% for rec in recipes %}

<div class="row">
    <div class="col s12">
        <div class="card">

            <div class="card-content">
                <span class="card-title center-align"><b>{{ rec.name_of_recipe }}</b></span>
                <br>

                <p class="center-align">{{ rec.description }}</p>
                <br>
                <br>
                <div class="row">
                    <div class="recipe_details center-align col s3">
                        <p><b>Difficulty</b></p>
                        <p>{{ rec.difficulty.title() }}</p>
                    </div>
                    <div class="recipe_details center-align col s3">
                        <p><b>Time to make</b></p>
                        <p>{{ rec.time_to_make }}</p>
                    </div>
                    <div class="recipe_details center-align col s3">
                        <p><b>Rating</b></p>
                        <p><i class="material-icons gold-star">star</i>{{ rec.rating }}</p>
                    </div>
                    <div class="recipe_details center-align col s3">
                        <p><b>Upvotes</b></p>
                        <p>{{ rec.upvotes }}</p>
                    </div>
                </div>

                <div class="row">
                     <div class="center-align col s12">
                         <p class="detail_link mountain_font"><a href="{{ url_for('recipe_detail', recipe_id=rec._id) }}">
                             <b>CLICK FOR FULL RECIPE</b></a></p>
                     </div>
                </div>

            </div>

        </div>
        <!--./card -->
    </div>
    <!--./col s12-->
</div>
<!--./row-->

{% endfor %}

{% endblock %}